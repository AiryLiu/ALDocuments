Core Location in iOS 8

## 概览

从iPhone问世以来，定位服务就是一个核心功能。地图app是早期iPhone的杀手锏。Core Location API 从第一版 iPhone OS SDK 起就已经发布。每一次iOS版本升级，苹果都稳定的为这个框架添加新的功能，例如后台定位服务、地理编码，iBeacons（室内定位）等。

iOS8仍坚定的延续着这个进程。类似其他最新的更新，Core Location 被改动了不少，这些改动既能允许开发者做到以前做不到的事，同时保证了用户的隐私。iOS8 对Core Location 框架主要做了三项改动：更细粒度的权限许可，室内定位，和访问监控。

## 权限

一个app有很多理由需要获取你的位置信息。一个提供导航服务的GPS app 需要持续获取你的位置，才能在每次转弯时提示你。一个餐厅推荐app也需要获取你的位置（及时在它没有打开的情况下），以便在你靠近朋友点赞的餐厅时为你发送通知。一个Twitter app 在你发推时也可能需要获取你的位置，但在你不使用它时不需要实时监控你的位置。

在iOS8之前，位置服务的权限是二元的：只能 _许可或不许可_一个app使用位置服务。设置里能看到使用位置服务的app，但是也只能启/禁用位置服务，没有其他选项。

iOS8做了改进，将位置服务权限细分为两个不同类型：

